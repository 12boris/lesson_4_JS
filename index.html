<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>lesson 4</title>
    </head>
    <body>
        
    <script>
        /*1. Написать функцию, преобразующую число в объект. Передавая на вход число от 0 до 999, надо получить на выходе объект, в котором в 
        соответствующих свойствах описаны единицы, десятки и сотни. Например, для числа 245 надо получить следующий объект: 
        {‘единицы’: 5, ‘десятки’: 4, ‘сотни’: 2}. Если число превышает 999, необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.
        */

        console.log('----------------------task 1------------------------');

        const user_number = prompt('введите число');

        function getObject(number){
            if (number >= 0 && number < 1000){
                let user_object = {'единицы': number[2], 'десятки': number[1], 'сотни': number[0]};
                return user_object;
            }else{
                return 'вы ввели не то число';
            };

            return user_object;
        }

        console.log(getObject(user_number));

        /*2. Продолжить работу с интернет-магазином:
            В прошлом домашнем задании вы реализовали корзину на базе массивов. Какими объектами можно заменить их элементы?
            Реализуйте такие объекты.
            Перенести функционал подсчета корзины на объектно-ориентированную базу.
        */

        console.log('----------------------task 2------------------------');

        function item(name, price, discount, icon){
            this.name = name,
            this.price = price,
            this.discount = discount
            this.icon = '../img/' + icon + '.png',
            this.final_price = this.price - this.price * (this.discount / 100);
        }

        let basket = [];

        basket.push(new item('comp', 300, 10, 'icon_comp'));
        basket.push(new item('phone', 200, 20, 'icon_phone'));
        basket.push(new item('airpods', 300, 0, 'icon_airpods'));
        basket.push(new item('MacBook', 300, 30, 'icon_MacBook'));
        console.log(basket);

        function TotalCost(bascket_){
            let total = 0;
            for (prod of bascket_){
                total += prod.final_price;
            }   

            return total;
        }

        console.log('общая стоимость: ' + TotalCost(basket))

    </script>

    </body>
</html>